# 钢铁厂监控平台快速启动文档

## 项目概述

钢铁厂监控平台是基于 Huayan 工业监控系统开发的完整可交互例程，核心目标是极致体现 Huayan 的"开箱即用"特性。示例工程让用户"零核心代码开发、仅少量配置（可选）即可运行完整钢铁厂监控场景"，而非编写大量业务代码。

## 技术栈

- Qt6 + QML + C++
- CMake 构建（≥3.22）
- 兼容 Windows/Linux 工业终端
- 适配 1920*1080 工业级分辨率

## 运行流程

### 1. 环境准备

- 安装 Qt6（≥6.8）开发环境
- 安装 CMake（≥3.22）
- 安装编译工具链（Windows: Visual Studio, Linux: GCC）

### 2. 构建与运行

#### Linux 系统

1. 解压 Huayan 安装包
2. 进入钢铁厂监控平台示例目录：`cd examples/steel_plant_monitoring`
3. （可选）修改示例配置文件中的基础参数：
   - `config/point_mapping.json`：点位映射配置
   - `config/3d_model_config.json`：3D 模型配置
   - `config/alarm_rules.json`：告警规则配置
   - `config/simulation_config.json`：仿真数据配置
4. 双击运行脚本：`./run_steel_plant.sh`
5. 脚本将自动完成 CMake 配置、项目构建和应用启动

#### Windows 系统

1. 解压 Huayan 安装包
2. 进入钢铁厂监控平台示例目录：`examples\steel_plant_monitoring`
3. （可选）修改示例配置文件中的基础参数（同 Linux 系统）
4. 双击运行脚本：`run_steel_plant.bat`
5. 脚本将自动完成 CMake 配置、项目构建和应用启动

## 功能说明

### 1. 3D 可视化

- 复用 Huayan 内置 Qt 3D 组件
- 加载钢铁厂车间 3D 模型
- 实时更新设备状态（运行-绿/故障-红/待机-黄）
- 支持鼠标交互：左键旋转/滚轮缩放/右键平移

### 2. 数据采集与展示

- 复用 Huayan 内置工业协议仿真驱动
- 加载预置的钢铁厂仿真数据
- 自动展示实时参数与趋势曲线
- 数据刷新延迟 ≤ 1s

### 3. 设备控制交互

- 复用 Huayan 内置设备控制模块
- 支持设备启停/参数调节操作
- 操作后仿真数据同步变化

### 4. 告警管理

- 复用 Huayan 内置告警引擎
- 支持超温/低压/转速异常等告警场景
- 触发后自动弹出告警提示、播放音效
- 支持告警确认/处理操作

### 5. 数据导出

- 复用 Huayan 内置数据导出接口
- 支持按时间段筛选产线数据
- 导出为 CSV 文件（保存至示例工程根目录）

## 核心特性

### 1. 开箱即用

- 示例工程仅包含「通用格式配置文件 + 一键运行脚本」
- 99% 功能复用 Huayan 已有核心模块
- 无新增核心业务逻辑代码

### 2. 高仿真数据

- 内置钢铁厂全产线（高炉/转炉/轧钢）高仿真时序数据
- 覆盖温度、压力、流量、转速等核心工艺参数
- 数据规律贴合真实钢铁厂生产逻辑
- 支持离线运行，无需对接真实设备/数据库

### 3. 异常场景模拟

- 可模拟高炉超温、转炉低压、轧钢转速异常等场景
- 触发 Huayan 内置告警引擎
- 异常场景触发逻辑清晰可复现

## 配置文件说明

### 1. 点位映射配置（point_mapping.json）

定义仿真数据源的点位与界面显示的映射关系，包括点位名称、单位、是否显示、是否在图表中展示等。

### 2. 3D 模型配置（3d_model_config.json）

定义钢铁厂设备的 3D 模型路径、位置、旋转、缩放等参数，以及状态着色规则。

### 3. 告警规则配置（alarm_rules.json）

定义钢铁厂设备的告警阈值、等级、消息、音效等参数。

### 4. 仿真数据配置（simulation_config.json）

定义钢铁厂设备的仿真数据参数，包括基础值、波动范围、趋势等，以及异常场景触发概率。

## 常见问题与解决方案

### 1. 构建失败

- 检查 Qt6 是否正确安装
- 检查 CMake 版本是否 ≥3.22
- 检查编译工具链是否正确配置

### 2. 运行时无法找到库文件

- 确保 Qt6 库路径已添加到系统环境变量
- 对于 Linux 系统，可在 `run_steel_plant.sh` 脚本中添加库路径
- 对于 Windows 系统，可在 `run_steel_plant.bat` 脚本中添加库路径

### 3. 3D 模型不显示

- 确保 3D 模型文件存在于 `models` 目录中
- 检查 3D 模型格式是否为 GLTF
- 检查 `3d_model_config.json` 中的模型路径配置

### 4. 仿真数据不更新

- 检查 `simulation_config.json` 中的更新间隔配置
- 确保仿真数据源已正确初始化

## 联系方式

如有任何问题，请联系 Huayan 技术支持团队。

---

**本功能基于 Huayan 开箱即用模块实现，仅需配置无需开发**
